import React from 'react';

import { motion, useReducedMotion } from 'framer-motion';

interface IComponentProps {
	onAnimationComplete: () => void;
	isLargeScreen: boolean;
}

export const AnimatedSiteLogo: React.FC<IComponentProps> = ({
	onAnimationComplete,
	isLargeScreen,
}) => {
	const shouldReduceMotion = useReducedMotion();

	const logoVariants = {
		initial: { opacity: 1, scale: 1 },
		animate: {
			opacity: 0,
			scale: shouldReduceMotion ? 1 : 0,
			transition: {
				delay: 0.5,
				duration: 1,
				ease: 'easeInOut',
				when: 'afterChildren',
				staggerChildren: 2,
			},
			x: shouldReduceMotion ? 0 : isLargeScreen ? '15%' : '-15%',
			y: shouldReduceMotion ? 0 : '30%',
		},
		exit: {
			opacity: 0,
		},
	};
	const textVariants = {
		initial: {
			opacity: 0,
			x: '-22.391121px',
			y: shouldReduceMotion ? '-93.249392px' : '50px',
		},
		animate: {
			opacity: 1,
			transition: {
				duration: 3,
			},
			y: '-93.249392px',
		},
	};

	const bracketVariants = {
		initial: {
			opacity: 0,
			x: '-22.391121px',
			y: '-93.249392px',
		},
		animate: {
			opacity: 1,
			transition: { delay: 3.25, duration: 3, ease: 'easeOut' },
		},
	};

	const slashVariants = {
		initial: {
			opacity: 0,
			x: '-22.391121px',
			y: '-93.249392px',
		},
		animate: {
			opacity: 1,
			transition: { delay: 5, duration: 2, ease: 'easeOut' },
		},
	};

	return (
		<motion.svg
			animate="animate"
			exit="exit"
			height="100vh"
			id="logo"
			initial="initial"
			onAnimationComplete={onAnimationComplete}
			variants={logoVariants}
			viewBox="0 0 198.92 26.4"
			width={isLargeScreen ? 300 : 150}
		>
			<motion.g variants={textVariants}>
				<g
					fill="currentColor"
					transform="matrix(2.7526983,0,0,2.7526983,-41.563554,-165.75673)"
				>
					<path d="m 41.883414,102.61314 h -1.09037 l -0.754473,-2.14457 h -3.327952 l -0.754473,2.14457 h -1.038693 l 2.800853,-7.6946 h 1.364254 z m -2.160068,-3.023065 -1.348751,-3.777536 -1.353918,3.777536 z" />
					<path d="m 49.552171,98.77359 q 0,1.049028 -0.459919,1.90169 -0.454751,0.85265 -1.214392,1.32291 -0.527098,0.32556 -1.178219,0.47025 -0.645954,0.1447 -1.705317,0.1447 h -1.943028 v -7.6946 h 1.922357 q 1.126543,0 1.787999,0.165364 0.666624,0.160197 1.126543,0.444416 0.785479,0.490925 1.224727,1.30741 0.439249,0.816485 0.439249,1.93786 z m -1.069699,-0.0155 q 0,-0.904335 -0.315225,-1.52445 -0.315226,-0.620115 -0.940508,-0.976682 -0.454752,-0.258381 -0.966347,-0.356566 -0.511595,-0.103352 -1.224727,-0.103352 h -0.961179 v 5.9376 h 0.961179 q 0.73897,0 1.286739,-0.10852 0.552936,-0.10852 1.012855,-0.40308 0.573606,-0.3669 0.857826,-0.96634 0.289387,-0.599443 0.289387,-1.49861 z" />
					<path d="m 56.239081,97.243972 q 0,0.511595 -0.180867,0.950843 -0.175699,0.434081 -0.496092,0.754474 -0.397908,0.397907 -0.940508,0.599445 -0.542601,0.196369 -1.369421,0.196369 h -1.023191 v 2.868037 h -1.02319 v -7.6946 h 2.087722 q 0.692462,0 1.173051,0.118855 0.480589,0.113688 0.852658,0.361734 0.439249,0.294555 0.676959,0.733803 0.242879,0.439249 0.242879,1.11104 z m -1.064531,0.02584 q 0,-0.397907 -0.139526,-0.692462 -0.139526,-0.294555 -0.423746,-0.480589 -0.248046,-0.160197 -0.568439,-0.227376 -0.315225,-0.07235 -0.800982,-0.07235 h -1.012855 v 3.074738 h 0.862994 q 0.620115,0 1.007687,-0.108521 0.387572,-0.113687 0.630451,-0.356566 0.242878,-0.248046 0.341063,-0.52193 0.103353,-0.273884 0.103353,-0.614948 z" />
					<path d="m 61.737434,102.61314 h -0.966346 v -0.61495 q -0.129191,0.0879 -0.351399,0.24804 -0.21704,0.15503 -0.423745,0.24805 -0.242878,0.11886 -0.558104,0.19637 -0.315225,0.0827 -0.73897,0.0827 -0.780312,0 -1.322913,-0.51676 -0.542601,-0.51676 -0.542601,-1.31774 0,-0.65629 0.279052,-1.059368 0.28422,-0.408243 0.80615,-0.640786 0.527098,-0.232543 1.266069,-0.315225 0.73897,-0.08268 1.586461,-0.124023 v -0.149861 q 0,-0.330729 -0.118855,-0.547769 -0.113688,-0.21704 -0.330729,-0.341063 -0.206705,-0.118856 -0.496092,-0.160197 -0.289387,-0.04134 -0.604612,-0.04134 -0.382404,0 -0.852658,0.103353 -0.470254,0.09819 -0.971514,0.289387 h -0.05168 V 96.96492 q 0.28422,-0.07751 0.821653,-0.170531 0.537433,-0.09302 1.059364,-0.09302 0.60978,0 1.059363,0.103353 0.454751,0.09819 0.785479,0.341063 0.325561,0.237711 0.496093,0.614948 0.170531,0.377237 0.170531,0.93534 z m -0.966346,-1.4211 v -1.607133 q -0.444416,0.02584 -1.049028,0.07751 -0.599445,0.05168 -0.950844,0.149862 -0.418577,0.118855 -0.676959,0.372071 -0.258381,0.24805 -0.258381,0.6873 0,0.49609 0.299722,0.7493 0.299723,0.24805 0.91467,0.24805 0.511595,0 0.935341,-0.19637 0.423745,-0.20154 0.785479,-0.48059 z" />
					<path d="m 67.209952,97.900261 h -0.05168 q -0.21704,-0.05168 -0.423746,-0.07235 -0.201537,-0.02584 -0.480589,-0.02584 -0.449583,0 -0.868161,0.201537 -0.418578,0.19637 -0.80615,0.511595 v 4.097937 h -0.971514 v -5.772248 h 0.971514 v 0.852659 q 0.578774,-0.465087 1.018023,-0.656289 0.444415,-0.19637 0.904334,-0.19637 0.253214,0 0.366902,0.0155 0.113688,0.01034 0.341063,0.04651 z" />
					<path d="m 71.726458,97.900261 h -0.05168 q -0.21704,-0.05168 -0.423745,-0.07235 -0.201538,-0.02584 -0.48059,-0.02584 -0.449583,0 -0.868161,0.201537 -0.418578,0.19637 -0.80615,0.511595 v 4.097937 h -0.971514 v -5.772248 h 0.971514 v 0.852659 q 0.578775,-0.465087 1.018023,-0.656289 0.444416,-0.19637 0.904334,-0.19637 0.253214,0 0.366902,0.0155 0.113688,0.01034 0.341063,0.04651 z" />
					<path d="m 73.684989,95.874551 h -1.095537 v -1.007687 h 1.095537 z m -0.06201,6.738589 h -0.971514 v -5.772243 h 0.971514 z" />
					<path d="m 79.6691,100.94916 q 0,0.79065 -0.656288,1.29707 -0.651121,0.50643 -1.782832,0.50643 -0.640785,0 -1.178219,-0.14986 -0.532265,-0.15503 -0.893999,-0.33589 v -1.09037 h 0.05168 q 0.459919,0.34623 1.02319,0.55293 0.563272,0.20154 1.080034,0.20154 0.640786,0 1.00252,-0.20671 0.361734,-0.2067 0.361734,-0.65112 0,-0.34106 -0.19637,-0.51676 -0.19637,-0.1757 -0.754474,-0.29972 -0.206705,-0.0465 -0.5426,-0.10852 -0.330728,-0.062 -0.604613,-0.13436 -0.759641,-0.201537 -1.080034,-0.589109 -0.315225,-0.39274 -0.315225,-0.961179 0,-0.356566 0.144694,-0.671791 0.149861,-0.315226 0.449583,-0.563272 0.289387,-0.242878 0.733803,-0.382404 0.449584,-0.144694 1.00252,-0.144694 0.516762,0 1.04386,0.129191 0.532266,0.124023 0.883665,0.30489 v 1.038693 h -0.05168 q -0.372069,-0.273884 -0.904334,-0.459919 -0.532266,-0.191202 -1.043861,-0.191202 -0.532266,0 -0.899167,0.206705 -0.366902,0.201537 -0.366902,0.604612 0,0.356567 0.222208,0.537434 0.217041,0.180866 0.702798,0.294554 0.268716,0.06201 0.599444,0.124023 0.335896,0.06201 0.558104,0.113688 0.676959,0.155029 1.043861,0.532266 0.366901,0.382404 0.3669,1.012854 z" />
				</g>
			</motion.g>
			<motion.g variants={bracketVariants}>
				<g
					fill="currentColor"
					transform="matrix(2.7526983,0,0,2.7526983,7.8024398,-148.1775)"
				>
					<path d="M 11.743805,95.82905 5.780364,93.178056 v -0.640785 l 5.963441,-2.650993 v 0.930173 l -4.70254,2.041213 4.70254,2.041216 z" />
					<path d="m 78.044454,93.178056 -5.963441,2.650994 v -0.93017 l 4.70254,-2.041216 -4.70254,-2.041213 v -0.930173 l 5.963441,2.650993 z" />
				</g>
			</motion.g>
			<motion.g fill="currentColor" variants={slashVariants}>
				<path d="m 201.41171,94.572309 -10.19927,26.458331 h -2.46091 l 10.15659,-26.458331 z" />
			</motion.g>
		</motion.svg>
	);
};
